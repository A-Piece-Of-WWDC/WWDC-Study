### 언제 breakpoint를 사용할까?

- 우리가 버그를 만나게 된다는 것은 우리가 예상한대로 프로그램이 동작하지 않았다는 뜻
- 즉 이런 상황일 때, 브레이크 포인트를 활용하여 프로그램의 동작을 특정 지점에서 멈추게 하여 디버거를 통해 버그의 원인을 찾을 수 있다

## 세 종류의 breakpoint

### Source file breakpoints

- 각 파일에 브레이크 포인트를 설정할 수 있다
- 대부분의 소스 파일 브레이크 포인트는 ‘Line breakpoint’
    - 라인 브레이크포인트는 gutter에서 내가 pause를 하고싶은 라인을 클릭해줌으로써, 간편하게 설정 가능하다
        
        ![스크린샷 2023-01-19 오후 4 43 54](https://user-images.githubusercontent.com/87598209/213908812-5bc1ab3c-8c2b-4c95-9568-8162fb8234d2.png)

    - 예를 들어, convertedToVolume의 메서드를 확인해주고 싶다면 Line 70에 라인 브레이크 포인트를 설정하고 Step Into를 해주면 된다.
        
        ![스크린샷 2023-01-19 오후 4 44 21](https://user-images.githubusercontent.com/87598209/213908819-57668c86-da72-4698-bc3c-d292b95305db.png)

    - 그런데, 문제는 내가 확인하고 싶은건 convertedToVolume이지만, step into를 하게될 경우, 내가 확인하고 싶지 않은 프로퍼티나 메서드 내부로 이동하게될 수 도 있다
        
        ![스크린샷 2023-01-19 오후 4 47 13](https://user-images.githubusercontent.com/87598209/213908820-b4f5182d-726f-4c29-9aa3-990aaa145781.png)

    - 이는 컴파일러가 convertedToVolume메서드가 실행되기전에  먼저 실행되어야한다고 판단하는 곳으로 이동하기 때문
    - 여기서 다시 step out을 해주고 다시 step into를 실행해주면, 우리는 우리가 원하는 메서드인 convertedToVolume으로 이동해줄 수 있지만, 이 과정이 다소 번거롭다는 단점이 존재한다. 지금은 한 번만 반복해도 됐지만, 여러 번 반복해야하는 경우도 생길 수 있음
    - 이러한 상황에서 라인 브레이크 포인트는 적절한 브레이크 포인트가 아님
    
- 또 다른 소스 파일 브레이크 포인트는 ‘Column breakpoint’이다
    - Xcode 13에서 소개되었다
    - 위의 예시 상황에서 드러난 라인 브레이크 포인트의 단점을 피할 수 있다. (원하는 지점까지 가기 위해 여러 번 step into, step out 해야한다는 점)
        
        ![스크린샷 2023-01-19 오후 4 54 43](https://user-images.githubusercontent.com/87598209/213908822-6549dd89-6d53-471f-bfd8-ec7fcb68d52c.png)

        ![스크린샷 2023-01-19 오후 6 32 13](https://user-images.githubusercontent.com/87598209/213908923-8d124e4d-b875-4859-bfd0-57a678a41fc6.png)

    - 컬럼 브레이크 포인트도 라인 브레이크 포인트와 동일하게 enable하거나 disable 해줄 수 있다
        
        ![스크린샷 2023-01-19 오후 6 33 09](https://user-images.githubusercontent.com/87598209/213908834-8cbc182c-200a-4ba8-bc78-58004a0ca14c.png)

    - 마찬가지로 브레이크 포인트 에디터도 사용 가능 !
    - 라인 브레이크 포인트때와 달리 한번에 convertedToVolume의 메서드 바디를 확인할 수 있다
    - 컬럼 브레이크 포인트는 특히 클로저에서 유용하게 사용할 수 있다
        
        ![스크린샷 2023-01-19 오후 6 36 54](https://user-images.githubusercontent.com/87598209/213908839-69242be0-e3fa-4131-a158-a128cc88170d.png)

    - 가령 위와 같은 여러 개의 클로저로 이루어진 싱글 라인 코드가 있고 마지막 클로저를 확인하려고 할 경우, 라인 브레이크 포인트를 활용하는 것은 적절하지 않다
        
        ![스크린샷 2023-01-19 오후 6 39 19](https://user-images.githubusercontent.com/87598209/213908845-a4d05f12-0743-422a-af55-d3fa78406e6b.png)

    - 컬럼 브레이크 포인트를 활용하여 우리가 확인하고 싶었던 value를 손쉽게 확인 할 수 있다

### Symbolic breakpoints

- 특정 메서드명에 브레이크 포인트를 거는 것
- 소스 파일 브레이크 포인트가 불편하거나 효과적이지 않을 때 유용하게 사용할 수 있다
    
    ![스크린샷 2023-01-19 오후 7 21 32](https://user-images.githubusercontent.com/87598209/213908849-7cab47ee-6a16-4dd6-95d6-06f7259ce767.png)

- 브레이크 포인트 네비게이터 영역에서 생성가능
    
    ![스크린샷 2023-01-19 오후 7 22 18](https://user-images.githubusercontent.com/87598209/213908851-8da7d9f5-35e2-46d6-b0c7-410aa2edee7e.png)

- 위 사진처럼, 어떤 메서드명에 브레이크 포인트를 줄지 설정한다
    
    ![스크린샷 2023-01-19 오후 7 23 01](https://user-images.githubusercontent.com/87598209/213908853-e973c6f8-b9e4-40c9-b936-d08a6b92e62d.png)

- 그러나 한 가지 주의할 점은, 해당 프로젝트의 모든 모듈들에 해당 메서드명이 있으면 전부 브레이크 포인트를 찍어버린다. 자칫하면 수 천개의 동일 이름 메서드에 찍힐 수도 있음
    
    ![스크린샷 2023-01-19 오후 7 24 59](https://user-images.githubusercontent.com/87598209/213908855-f9deb396-3fb1-49ed-9299-90be86f5e0f5.png)

- 다행히 위와 같은 일을 방지하기 위해, 특정 모듈로 제한해줄 수 있다
    
    ![스크린샷 2023-01-19 오후 7 47 22](https://user-images.githubusercontent.com/87598209/213908857-ce00fb79-753b-4daf-a6e1-5f3895070627.png)

- 심볼릭 브레이크포인트는 사용자가 직접 메서드명을 타이핑해야 하다보니, 오타가 발생하는 등 휴먼에러가 발생할 가능성도 존재한다
- 가령 convertToMass라는 메서드에 심볼릭 브레이크포인트를 설정한다면 브레이크 포인트는 제대로 활성화(Unresolved state)되지 않을 것이다. (정상 메서드명: **convertedToMass**)
    
    ![스크린샷 2023-01-19 오후 7 55 44](https://user-images.githubusercontent.com/87598209/213908862-3d658f06-b878-41f8-a76c-de8d1d5240ef.png)

- dashed icon을 호버하면 왜 브레이크포인트가 Unresolved 상태인지 우리는 일련의 이유들을 알 수 있다.
- 이유를 찾았다면 원인을 해결하자

### Runtime issue breakpoints

- 우리는 종종 런타임중에 몇 가지 문제들을 겪을 수 있다
- 가령 UI를 백그라운드 스레드에서 업데이트하는 것이 대표적인 런타임 이슈일텐데, 그러나 이는 앱 크래쉬 만큼 심각한 이슈는 아니라서 Xcode는 프로세스를 중간에 멈추지 않는다
- 중간에 멈추지 않는 이유는 심각하지 않아서이기도하지만 유저가 다른 버그에 집중할 수 있게끔 멈추지 않는 것
- 다만 Xcode는 이런 런타임 이슈들을 backtrace에 기록해두게된다
    
    ![스크린샷 2023-01-19 오후 8 30 13](https://user-images.githubusercontent.com/87598209/213908869-9297a33a-6db1-4d05-add9-3b19e9ef0fa4.png)

- 하지만 여기에 기록된 이슈들을 확인하게되는 시점은 이미 해당 이슈가 발생한 정확한 그 시점이 아니다
- 따라서, 해당 이슈가 발생한 시점에 정확히 멈춰주기 위해 우리는 런타임 이슈 브레이크 포인트를 설정해줄 수 있다
- 심볼릭 브레이크 포인트와 마찬가지로 브레이크 포인트 네비게이터 영역에서 생성해줄 수 있다
    
    ![스크린샷 2023-01-19 오후 8 32 28](https://user-images.githubusercontent.com/87598209/213908871-b4397aaf-5636-42e5-90c4-b06b0b5ad452.png)

- 런타임 이슈 브레이크 포인트 타입에는 여러 종류가 있는데, 우리가 사용하게될 브레이크 포인트는 **메인 스레드 체커**이다
    
    ![스크린샷 2023-01-19 오후 8 32 52](https://user-images.githubusercontent.com/87598209/213908874-3fcaf4ba-2d6b-46c7-b37b-7cd2cfbdc677.png)

- 이후 실제로 브레이크 포인트가 찍히게 하기 위해, Scheme 에디터에서 메인스레드체커 옵션을 켜주자
    
    ![스크린샷 2023-01-19 오후 8 34 57](https://user-images.githubusercontent.com/87598209/213908877-cdd78e06-20d7-4ef6-93b4-43d062bfa3c2.png)

- 이렇게 체크해주면 끝 !!
